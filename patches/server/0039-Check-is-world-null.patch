From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: AltronMaxX <max06112004@gmail.com>
Date: Mon, 12 Jun 2023 18:13:42 +0400
Subject: [PATCH] Check-is-world-null


diff --git a/src/main/java/io/papermc/paper/util/TickThread.java b/src/main/java/io/papermc/paper/util/TickThread.java
index 78c98e33dc58ee14f9d5ca170171974084b12758..1437be5ea54de6359a552d6db2e00bb61e8e590d 100644
--- a/src/main/java/io/papermc/paper/util/TickThread.java
+++ b/src/main/java/io/papermc/paper/util/TickThread.java
@@ -1,5 +1,6 @@
 package io.papermc.paper.util;
 
+import io.papermc.paper.configuration.constraint.Constraints;
 import io.papermc.paper.threadedregions.RegionShutdownThread;
 import io.papermc.paper.threadedregions.RegionizedServer;
 import io.papermc.paper.threadedregions.RegionizedWorldData;
@@ -138,6 +139,10 @@ public class TickThread extends Thread {
     public static boolean isTickThreadFor(final ServerLevel world, final int chunkX, final int chunkZ) {
         ThreadedRegionizer.ThreadedRegion<TickRegions.TickRegionData, TickRegions.TickRegionSectionData> region =
             TickRegionScheduler.getCurrentRegion();
+        if (world == null) {
+            MinecraftServer.LOGGER.error("Failed to tick thread, because world is null");
+            return false;
+        }
         if (region == null) {
             try{
                 if (!Bukkit.isOwnedByCurrentRegion(world.getWorld(), chunkX, chunkZ)){
